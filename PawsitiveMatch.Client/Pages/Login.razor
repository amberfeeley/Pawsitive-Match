@page "/login"
@using PawsitiveMatch.Client.Services
@using PawsitiveMatch.Services
@inject ApiService Api
@inject StateService State
@inject NavigationManager Nav

<MudContainer MaxWidth="MaxWidth.Medium">

    <!-- Sets all text and buttons within a MudPaper -->
    <MudPaper Class="pa-16 ma-2" Elevation="3">

        <!-- Page title and sample text that goes directly above login form -->  
        <MudText Typo='Typo.h4'>User Login</MudText>
        <MudText Typo="Typo.subtitle2">Want to make an appointment to meet your future fluffy best friend? Register with us to book an appointment now!</MudText>

        <!-- User inputs details into form  -->
        
        <MudForm @ref="form" @bind-IsValid="@success">
            <MudTextField @bind-Value="EmailValue" Label="Email" Required="true" Variant="Variant.Text"/>
            <MudTextField @bind-Value="PasswordValue" Label="Password" Required="true" Variant="Variant.Text" InputType="InputType.Password"/>

            <MudText Color="Color.Error" Class="mt-2">@ErrorMessage</MudText>

            <MudButton OnClick="@(() => LoginSubmission())" Disabled="@(!success)">Login</MudButton>
            <MudNavLink Href="create-account" Match="NavLinkMatch.Prefix" Class="nav-link">Don't have an account? Click here!</MudNavLink>

        </MudForm>
    </MudPaper>


</MudContainer>