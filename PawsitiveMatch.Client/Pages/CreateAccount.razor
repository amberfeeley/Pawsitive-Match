@page "/create-account"
@using PawsitiveMatch.Client.Services
@inject ApiService Api
@inject NavigationManager Nav

<MudContainer MaxWidth="MaxWidth.Medium">

    <!-- Sets all text and buttons within a MudPaper -->
    <MudPaper Class="pa-16 ma-2" Elevation="3">

        <!-- Page title and sample text that goes directly above login form -->  
        <MudText Typo='Typo.h4'>Create Account</MudText>
        <MudText Typo="Typo.subtitle2">Don't have an account? Make one now!</MudText>

        <!-- User inputs details into form  -->
        <MudForm @ref="form">
            <MudTextField @bind-Value="FirstName"
                          Label="First Name" Variant="Variant.Text" Required="true"/>
            <MudTextField @bind-Value="LastName"
                          Label="Last Name"
                          Variant="Variant.Text"
                          Required="true"/>
            <MudTextField @bind-Value="EmailValue" 
                          Label="Email"
                          Variant="Variant.Text"
                          Required="true"/>
            <MudTextField @bind-Value="PasswordValue"
                          Label="Password"
                          Variant="Variant.Text"
                          InputType="InputType.Password"
                          Required="true"/>
            <MudTextField @bind-Value="RepeatPasswordValue"
                          Label="Re-enter Password"
                          Variant="Variant.Text"
                          InputType="InputType.Password"
                          Required="true"
                          Validation="@(new Func<string, string?>(PasswordMatch))"/>

            <MudText Color="Color.Error" Class="mt-2">@ErrorMessage</MudText>

            <MudButton OnClick="CreateUserAccount">Create Account</MudButton>
        </MudForm>
    </MudPaper>


</MudContainer>